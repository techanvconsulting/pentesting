
# **GraphQL Pentesting Guide.**



## Blogs

| Credits          | URL                                                                                                   |
|------------------|-------------------------------------------------------------------------------------------------------|
| PortSwigger      | [GraphQL Basics Level 1](https://portswigger.net/web-security/graphql/what-is-graphql)                       |
|                  | [GraphQL with labs](https://portswigger.net/web-security/graphql)                                          |
| Hacktricks       | [Pentesting Web - GraphQL](https://book.hacktricks.xyz/network-services-pentesting/pentesting-web/graphql) |
| The Bilal Rizwan | [GraphQL Common Vulnerabilities: How to Exploit Them](https://the-bilal-rizwan.medium.com/graphql-common-vulnerabilities-how-to-exploit-them-464f9fdce696) |
| OWASP            | [Testing GraphQL](https://owasp.org/www-project-web-security-testing-guide/latest/4-Web_Application_Security_Testing/12-API_Testing/01-Testing_GraphQL) |
| CyberW1ng        | [GraphQL API Vulnerabilities in Web App Penetration Testing 2023](https://cyberw1ng.medium.com/graphql-api-vulnerabilities-in-web-app-penetration-testing-2023-69821f5edc32) |
| Anugrah SR       | [GraphQL Pentesting for Dummies Part 1](https://anugrahsr.in/graphql-pentesting-for-dummies_part1/) |
| Escape Tech      | [Pentest 101](https://escape.tech/blog/pentest101/)                                                  |
|                  | [Pentesting 102](https://escape.tech/blog/pentesting102/)                                            |




## Tool

| Credits          | URL                                                                                                   |
|------------------|-------------------------------------------------------------------------------------------------------|
| Dolev Farhi      | [graphw00f](https://github.com/dolevf/graphw00f)                                                      |
| doyensec         | [InQL](https://github.com/doyensec/inql)                                                              |
| GraphQL Kit      | [GraphQL Voyager](https://graphql-kit.com/graphql-voyager/)                                           |
| GraphQL          | (https://github.com/graphql/graphiql)                                                       |
|GraphQL                  | [Online GraphiQL](https://lucasconstantino.github.io/graphiql-online/)                                |

## Videos

| Credits          | URL                                                                                                   |
|------------------|-------------------------------------------------------------------------------------------------------|
| Rahul Shetty Academy | [YouTube Playlist](https://www.youtube.com/watch?v=xrFB9SU48Qw&list=PLFh6J1ZHhqNhfSVt4WaF9GgOCOq9PYYBa&ab_channel=RahulShettyAcademy) |
| Insider PhD      | [YouTube Video 1](https://www.youtube.com/watch?v=jyjGneKJynk&list=PLbyncTkpno5HqX1h2MnV6Qt4wvTb8Mpol&index=13&ab_channel=InsiderPhD) |
|Insider PhD                   | [YouTube Video 2](https://www.youtube.com/watch?v=viWzbPuGqpo&list=PLbyncTkpno5HqX1h2MnV6Qt4wvTb8Mpol&index=14&ab_channel=InsiderPhD) |
| HowToGraphQL     | [Introduction](https://www.howtographql.com/basics/0-introduction/)                                    |

## Vuln Lab

| Credits          | URL                                                                                                   |
|------------------|-------------------------------------------------------------------------------------------------------|
| DVGA (Dolev Farhi) | [Damn Vulnerable GraphQL Application](https://github.com/dolevf/Damn-Vulnerable-GraphQL-Application) |
| PortSwigger      | [PortSwigger](https://portswigger.net/web-security/graphql)                                          |
| righettod        | [PoC GraphQL](https://github.com/righettod/poc-graphql)                                               |
| StackHawk        | [Vuln GraphQL API](https://github.com/stackhawk/vuln-graphql-api)                                     |


## Basics of GraphQL

## Schema
The Schema defines the capabilities of the API and represents the contract between the client and the server. It defines the types available in the API and how they can be queried and mutated.

### Types
GraphQL allows you to define your own types, including Scalar types (e.g., Int, String, Boolean) and Object types (e.g., User, Post). Types represent the shape of data that can be queried.

## Schema
The Schema defines the capabilities of the API and represents the contract between the client and the server. It defines the types available in the API and how they can be queried and mutated.

### Types
GraphQL allows you to define your own types, including Scalar types (e.g., Int, String, Boolean) and Object types (e.g., User, Post). Types represent the shape of data that can be queried.
```md
type Example {
  id: ID
  name: String
  age: Int
  isActive: Boolean
}
```
```md
type User {
  id: ID
  name: String
  email: String
  posts: [Post]
}

```

### Queries
Queries are used by the client to request specific data from the server. A query in GraphQL mirrors the shape of the response it expects to receive.

```md
query GetUser {
  user(id: "123") {
    id
    name
    email
  }
}

```

### Mutations
Mutations are used to modify data on the server. They allow clients to create, update, or delete data.
```md
mutation CreateUser {
  createUser(input: { name: "John", email: "john@example.com" }) {
    id
    name
    email
  }
}

```

### Fields
Fields are the basic unit of data retrieval in GraphQL. They are used to request specific pieces of data about an object.
```md
query GetUser {
  user(id: "123") {
    id
    name
    email
  }
}
```

### Resolvers
Resolvers are functions that determine how to fetch the data for a particular field. Each field in a GraphQL schema typically has a corresponding resolver function.

```md
const resolvers = {
  Query: {
    user: (parent, args, context, info) => {
      // Logic to fetch user data
    }
  }
};

```

### Directives
Directives provide a way to modify the behavior of a GraphQL query or mutation. They can be used to conditionally include fields, apply transformations, or provide metadata.
```md
query GetActiveUsers {
  users {
    id
    name
    email
    isActive @include(if: true)
  }
}

```

### Subscriptions
Subscriptions allow clients to receive real-time updates from the server. They enable a client to subscribe to specific events and receive notifications when those events occur.
```md
subscription NewPosts {
  newPost {
    id
    title
    content
  }
}
```

