## Welcome

**A continuous penetration testing solution consists of several key components. Vulnerability Scanner that automatically scans your code for vulnerabilities. Continuous monitoring system for tracking new assets and environmental changes. Integration with CI/CD tooling to start a new scan whenever there is a code update**


## Resources
| S.N | Links                                                                      |
| --- | -------------------------------------------------------------------------- |
| 1   | https://cloud.hacktricks.xyz/pentesting-ci-cd/pentesting-ci-cd-methodology |
| 2   | https://owasp.org/www-project-top-10-ci-cd-security-risks/                 |


---

# CI/CD PENTESTING CHECKLIST

## **Information Gathering**

### **Define Objectives**
- Clearly define the objectives and scope of the CI/CD pentest.

### **Documentation Review**
- Review documentation and configuration files related to CI/CD pipelines.

### **Access Permissions**
- Verify access permissions to CI/CD environments.

## **Source Code Repository**

### **Repository Assessment**
- Analyze source code repositories for sensitive information.
- Look for secrets, tokens, and credentials in code.
- Review commit history for security-related changes.

### **Tools and Commands**
- [GitLeaks](https://github.com/zricethezav/gitleaks) - Scan code repositories for secrets.
  - `gitleaks --repo=<repository URL>`
- `git log` - Review commit history.

## **Build Environment**

### **Build Process**
- Analyze the build process for security vulnerabilities.
- Review build scripts and configurations.

### **Artifact Storage**
- Check the security of artifact storage.
- Ensure sensitive build artifacts are protected.

### **Tools and Commands**
- `jenkins-cli` - Interact with Jenkins CI/CD server.
- `docker build` - Build Docker images securely.

## **Pipeline Configuration**

### **Pipeline Review**
- Examine CI/CD pipeline configurations.
- Look for misconfigurations and security weaknesses.

### **Tools and Commands**
- [Trufflehog](https://github.com/dxa4481/truffleHog) - Search for high entropy strings indicative of secrets.
  - `trufflehog <repository URL>`
  
## **Dependencies**

### **Dependency Scanning**
- Scan dependencies for known vulnerabilities.
- Use dependency scanning tools like [OWASP Dependency-Check](https://owasp.org/www-project-dependency-check/).

### **Tools and Commands**
- OWASP Dependency-Check
  - `dependency-check -s <path to source code> -d <path to dependencies>`

## **Authentication and Authorization**

### **Access Control**
- Review authentication and authorization mechanisms.
- Verify role-based access control (RBAC).

## **Secrets Management**

### **Secrets Handling**
- Ensure secure storage and handling of secrets.
- Implement a secrets management solution.

## **Testing Environments**

### **Test Environments**
- Assess the security of testing environments.
- Verify isolation from production.

## **Vulnerability Assessment**

### **Automated Scanning**
- Perform automated vulnerability scanning.
- Use tools like [OWASP ZAP](https://owasp.org/www-project-zap/) and [Nessus](https://www.tenable.com/products/nessus).

### **Manual Testing**

### **Manual Testing**
- Conduct manual testing for custom vulnerabilities.
- Test for logic flaws and business logic issues.

## **Integration and Deployment**

### **Integration Security**
- Review the security of third-party integrations.
- Assess data transfer security.

### **Documentation**

- Thoroughly document all findings, vulnerabilities, and recommendations.

